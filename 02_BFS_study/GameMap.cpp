#include "GameMap.h"

void GameMap::initMap()
{
	initOffset();
	makeMap();
}

void GameMap::initOffset()
{
	m_move[0].vert = 0; m_move[0].horz = 1;
	m_move[1].vert = 1; m_move[1].horz = 0;
	m_move[2].vert = 0; m_move[2].horz = -1;
	m_move[3].vert = -1; m_move[3].horz = 0;
}

void GameMap::makeMap()
{
	int tmp[20][20] =
	{
		2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
		2,0,1,1,0,0,0,1,0,0,1,1,1,0,0,0,1,1,0,2,
		2,1,1,0,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,2,
		2,1,0,1,1,0,0,0,0,0,0,1,1,1,1,1,0,1,1,2,
		2,0,0,1,1,0,1,0,1,0,0,1,1,0,1,1,1,0,1,2,
		2,1,1,1,1,0,0,1,1,1,0,1,0,1,1,1,0,1,0,2,
		2,0,0,0,0,0,0,1,1,1,0,0,1,1,0,1,0,1,0,2,
		2,0,0,1,1,0,0,0,1,1,0,0,1,0,0,1,1,0,0,2,
		2,0,1,1,0,1,0,1,0,1,0,1,0,0,0,1,0,1,1,2,
		2,0,0,1,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,2,
		2,0,0,1,1,0,1,1,1,1,0,1,1,1,0,0,0,0,0,2,
		2,0,1,0,1,0,0,0,1,1,0,0,0,1,0,0,0,1,1,2,
		2,1,0,0,1,1,1,1,1,0,0,1,0,1,0,0,1,0,0,2,
		2,0,1,1,1,0,1,1,0,0,0,1,0,0,1,0,0,0,0,2,
		2,0,1,1,0,0,0,1,1,0,1,0,1,1,0,1,1,0,0,2,
		2,1,0,1,0,0,0,0,1,1,1,0,1,0,0,1,1,1,1,2,
		2,0,0,1,0,0,1,0,0,0,0,0,1,1,0,0,1,1,1,2,
		2,0,1,1,1,1,0,0,0,1,0,0,1,0,0,0,1,0,1,2,
		2,1,0,0,1,1,1,0,0,0,1,0,0,1,0,1,1,0,1,2,
		2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2
	};
	for (int i = 0; i < m_map_size; i++)
	{
		for (int x = 0; x < m_map_size; x++)
		{
			m_game_map[i][x] = tmp[i][x];
		}
	}
}

void GameMap::drawTile(HDC hdc, HDC hmemdc, HBITMAP bitmap, int x, int y)
{
	HBITMAP hOldBitmap;
	hOldBitmap = (HBITMAP)SelectObject(hmemdc , bitmap);
	BitBlt(hdc, x * 24, y * 24, 24, 24, hmemdc, 0, 0, SRCCOPY);
	SelectObject(hmemdc, hOldBitmap);

}
